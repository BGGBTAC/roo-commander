# Refactor Specialist Mode - Improvement Suggestions

## Current Role
- Improves internal code structure, readability, maintainability, and potentially performance without changing external behavior.
- Identifies code smells and applies refactoring patterns.
- Verifies changes using existing tests.

## Recommended Improvements

### 1. Add Metadata Tags
- `"refactoring"`, `"code-quality"`, `"maintainability"`, `"technical-debt"`, `"code-smells"`, `"testing"`
- Add language tags if specialized (e.g., `"python-refactor"`, `"java-refactor"`).

### 2. Escalation & Delegation
- Should be **invoked by Commander, Technical Architect, or development modes** when code quality needs improvement or technical debt needs addressing.
- Should escalate:
  - **Lack of sufficient tests** back to the caller, recommending test creation before proceeding (CRITICAL).
  - **Refactorings requiring significant architectural changes** to Technical Architect.
  - **Refactorings that uncover potential bugs** to Bug Fixer.
  - **Need for new tests** to cover refactored code to Testing modes.
- Should **not typically delegate** implementation tasks, but focuses on applying refactoring patterns itself.

### 3. Collaboration
- Work closely with:
  - **Original code authors / Development modes** (understanding intent, discussing changes).
  - **Testing modes** (ensuring test coverage, potentially adding characterization tests).
  - **Code Reviewer** (reviewing the refactored code).
  - **Technical Architect** (if architectural changes are involved).

### 4. Role Clarification
- Emphasize the core principle: **Improve internal structure *without* changing external behavior**.
- Highlight the **dependency on existing tests** for verification.
- Clearly list common **code smells** it looks for and **refactoring patterns** it applies.
- Stress the **iterative approach**: small, verifiable steps.
- Define the handling of **insufficient test coverage** (blocking or proceeding with caution/characterization tests).

### 5. Additional Capabilities
- Integrate with **static analysis tools** to automatically identify code smells or complexity metrics.
- Support **language-specific refactoring tools** via `execute_command` if available and safe.
- Provide **metrics** on code improvement (e.g., complexity reduction, code duplication decrease).
- Offer **different refactoring strategies** (e.g., focus on readability vs. performance).
- Maintain a **knowledge base** of code smells and refactoring patterns for various languages.

---

*Generated by Roo Commander, 2025-09-04*