# Discovery Agent Mode - Improvement Suggestions

## Current Role
- Interacts with the user via clarifying questions to understand project/feature goals and requirements.
- Documents these requirements in a structured Markdown file.
- Focuses on **user interaction** for requirements gathering.

## Recommended Improvements

### 1. Add Metadata Tags
- `"requirements-gathering"`, `"user-interaction"`, `"planning"`, `"documentation"`, `"project-scoping"`

### 2. Enhance Discovery Capabilities (Beyond User Questions)
- **Crucial Change:** Expand beyond just asking questions. Add **automated analysis** capabilities:
  - Use `list_files` (recursive) to understand project structure.
  - Use `read_file` on key configuration files (`package.json`, `composer.json`, `pom.xml`, `requirements.txt`, `go.mod`, `astro.config.mjs`, `tailwind.config.js`, etc.) to detect technologies, frameworks, and dependencies.
  - Use `read_file` on `README.md` or other overview documents.
  - Use `search_files` for specific keywords or imports related to common frameworks/libraries.
- **Output:** Generate a **Stack Profile** alongside the user requirements, including:
  - Detected Languages
  - Detected Frameworks/Libraries (with potential versions)
  - Detected Build Tools
  - Detected CI/CD configurations
  - Detected Database/ORM usage
  - Suggested Specialist Modes based on findings.

### 3. Escalation & Delegation
- Should be **invoked by Project Onboarding** (always) or **Roo Commander** before starting major new features.
- Should escalate:
  - **Ambiguity** requiring architectural decisions to Technical Architect.
  - **Need for deep analysis** of existing complex code to Complex Problem Solver (if analyzing an existing project).
- Should **provide its output (Requirements Doc + Stack Profile)** back to the caller (Onboarding/Commander) to inform subsequent delegation.
- Should **not typically delegate** implementation tasks itself.

### 4. Collaboration
- Primarily collaborates with **Project Onboarding** and **Roo Commander**.
- Provides crucial input for **Technical Architect**, **Project Manager**, and all **Specialist Modes** by defining requirements and the technical landscape.

### 5. Role Clarification
- Redefine role: "Analyzes the project context (files, user input) and interacts with the user to understand goals, **detect the technical stack**, and document detailed requirements."
- Emphasize the dual role: **Automated analysis + User interaction**.
- Clarify the outputs: **Requirements Document** AND **Stack Profile**.

### 6. Additional Capabilities
- Use **heuristics** to improve stack detection accuracy.
- Allow configuration of **discovery depth** or focus areas.
- Integrate with **Context Condenser** to generate indices for detected technologies if needed.
- Provide **confidence scores** for detected technologies.

---

*Generated by Roo Commander, 2025-09-04*